<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p id="valasz"></p>
    <button id="nevnap_lekeres">Névnapok lekérése</button>
    
    <form id="datum_form">
        <label for="honap">Hónap:</label>
        <input type="number" id="honap" name="honap" min="1" max="12">

        <label for="nap">Nap:</label>
        <input type="number" id="nap" name="nap" min="1" max="31">

        <button type="submit">Keresés</button>
    </form>

    <div id="post_valasz"></div>

    <hr>

        <h3>Név szerinti keresés</h3>

        <input type="text" id="nev" placeholder="Add meg a nevet">
        <button id="nev_kereses">Keresés</button>

    <div id="nev_valasz"></div>

    <script>
         async function nevnapok() {
            const response = await
                fetch("https://nameday.abalin.net/api/V2/today");
            const nevek = await response.json();
            document.getElementById("valasz").innerHTML = JSON.stringify(nevek);
        }
        nevnapok();

        document.getElementById("nevnap_lekeres").addEventListener("click", nevnapok);

        async function nevnapPost(nap, honap) {
            const data = {
                "day": nap,
                "month": honap
            };
            const response = await fetch("https://nameday.abalin.net/api/V2/date", {
                method: "POST",
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });

            const nevek = await response.json();
            console.log(nevek);
            console.log(nevek.data);

            nevek_str = ""
            
            /*for(const [nyelvek, nev] of nevek.data) {
                nevek_str += `<p>${nyelvek}: ${nev} </p>`;
            }
                */


            for (const orszag in nevek.data) {
                nevek_str += (`${orszag}: ${nevek.data[orszag]} <br>`);
            }

            document.getElementById("post_valasz").innerHTML = nevek_str;
        }

        function nevnapmegjelenites(event){
            event.preventDefault();
            const nap = document.getElementById("nap").value;
            const honap = document.getElementById("honap").value;

            console.log(nap, honap);
            nevnapPost(nap, honap);
        }

        document.getElementById("datum_form").addEventListener("submit", nevnapmegjelenites)
        // nevnapPost();

            <script>
        async function nevSzerintiKereses() {
            const nev = document.getElementById("nev").value;

            const data = {
                name: nev
            };

            const response = await fetch("https://nameday.abalin.net/api/V2/getname", {
                method: "POST",
                headers: {
                    "Accept": "application/json",
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            });

            const result = await response.json();
            console.log(result);

            let html = "";

            if (result.success && result.data.length > 0) {
                for (const elem of result.data) {
                    html += `
                        <p>
                            Ország: ${elem.country}<br>
                            Dátum: ${elem[0].month}. ${elem[0].day}.<br>
                            Név: ${elem[0].name}
                        </p>
                    `;
                }
            } else {
                html = "<p>Nincs találat</p>";
            }

            document.getElementById("nev_valasz").innerHTML = html;
        }

        document
            .getElementById("nev_kereses")
            .addEventListener("click", nevSzerintiKereses);
    </script>

    </script>
</body>
</html>